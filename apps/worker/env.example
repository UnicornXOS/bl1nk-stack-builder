# =============================================================================
# FastAPI Worker Environment Configuration
# =============================================================================
# Copy this file to .env in apps/worker/ directory
# Update with your actual values for the worker environment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Application environment
ENVIRONMENT=development
DEBUG=true
RELOAD=true

# Server settings
HOST=0.0.0.0
PORT=8000
WORKERS=1

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL connection (Neon Postgres)
DATABASE_URL=postgresql://user:password@neon-host.neon.tech:5432/bl1nk

# Database connection pool
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_POOL_TIMEOUT=30

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Upstash Redis
REDIS_URL=rediss://:token@global.upstash.io:6379

# Queue settings
TASK_QUEUE_NAME=bl1nk_tasks
MAX_WORKERS=10

# Cache settings
CACHE_TTL=3600
EMBEDDING_CACHE_TTL=86400

# =============================================================================
# LLM PROVIDERS
# =============================================================================

# OpenRouter (Primary provider)
OPENROUTER_API_KEY=your-openrouter-api-key
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# Cloudflare Gateway
CLOUDFLARE_API_TOKEN=your-cloudflare-token
CLOUDFLARE_ACCOUNT_ID=your-account-id

# AWS Bedrock
BEDROCK_REGION=us-east-1
BEDROCK_ACCESS_KEY_ID=your-bedrock-access-key
BEDROCK_SECRET_ACCESS_KEY=your-bedrock-secret-key

# =============================================================================
# EMBEDDINGS
# =============================================================================

# Embedding provider and model
EMBEDDING_PROVIDER=openrouter
EMBEDDING_MODEL=gamma-300
EMBEDDING_DIMENSION=768

# =============================================================================
# SECURITY
# =============================================================================

# JWT settings
JWT_SECRET_KEY=your-super-secret-jwt-key
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# API keys
ADMIN_API_KEY=your-admin-api-key

# Encryption
ENCRYPTION_KEY=your-32-character-encryption-key

# =============================================================================
# MONITORING
# =============================================================================

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=bl1nk-worker
OTEL_SERVICE_VERSION=1.0.0

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features
ENABLE_RAG=true
ENABLE_MCP=true
ENABLE_SKILLS=true
ENABLE_MULTI_AGENT=false

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limiting settings
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000

# =============================================================================
# TASK PROCESSING
# =============================================================================

# Task settings
TASK_TIMEOUT=300
TASK_RETRY_ATTEMPTS=3
TASK_RETRY_DELAY=5

# SSE settings
SSE_HEARTBEAT_INTERVAL=30
SSE_TIMEOUT=3600